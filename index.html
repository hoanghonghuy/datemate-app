<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>DateMate - Tiện Ích Tính Toán Ngày Tháng</title>
    <link rel="stylesheet" href="style.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <header>
      <button id="menu-toggle-btn" aria-label="Mở menu">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          fill="currentColor"
          viewBox="0 0 16 16"
        >
          <path
            fill-rule="evenodd"
            d="M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z"
          />
        </svg>
      </button>

      <!-- UPDATED: Bọc tiêu đề trong một div để căn giữa tốt hơn -->
      <div class="header-title-container">
        <h1>DateMate</h1>
        <p>Trợ lý tính toán ngày tháng của bạn</p>
      </div>

      <div class="header-controls">
        <button id="history-toggle-btn" aria-label="Mở lịch sử">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            fill="currentColor"
            viewBox="0 0 16 16"
          >
            <path
              d="M8.515 1.019A7 7 0 0 0 8 1V0a8 8 0 0 1 .589.022l-.074.997zm2.004.45a7.003 7.003 0 0 0-.985-.299l.219-.976c.383.086.76.2 1.126.342l-.36.933zM11.89 3.354a7.003 7.003 0 0 0-.985-.299l.219-.976c.383.086.76.2 1.126.342l-.36.933zM11.89 3.354a7.003 7.003 0 0 0-.985-.299l.219-.976c.383.086.76.2 1.126.342l-.36.933zM12.873 4.93a7.003 7.003 0 0 0-.985-.299l.219-.976c.383.086.76.2 1.126.342l-.36.933z"
            />
            <path
              d="M8 3.5a.5.5 0 0 0-1 0V9a.5.5 0 0 0 .252.434l3.5 2a.5.5 0 0 0 .496-.868L8 8.71V3.5z"
            />
            <path
              d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm7-8A7 7 0 1 1 1 8a7 7 0 0 1 14 0z"
            />
          </svg>
        </button>
        <div class="theme-switcher">
          <input type="checkbox" id="theme-toggle" />
          <label for="theme-toggle" class="slider"></label>
        </div>
      </div>
    </header>

    <nav id="nav-menu">
      <ul>
        <li><a href="#card-work-days">Tính Ngày Làm Việc</a></li>
        <li><a href="#card-difference">Tính Khoảng Cách Ngày</a></li>
        <li><a href="#card-add-subtract">Thêm / Bớt Ngày</a></li>
        <li><a href="#card-age">Tính Tuổi</a></li>
        <li><a href="#card-countdown">Đếm Ngược Sự Kiện</a></li>
        <li><a href="#card-find-day">Tìm Thứ Trong Tuần</a></li>
        <li><a href="#card-leap-year">Kiểm Tra Năm Nhuận</a></li>
      </ul>
    </nav>

    <aside id="history-panel">
      <div class="panel-header">
        <h2>Lịch Sử Tính Toán</h2>
        <button id="clear-history-btn">Xóa tất cả</button>
      </div>
      <ul id="history-list">
        <!-- History items will be injected here by JS -->
      </ul>
    </aside>

    <div id="overlay"></div>

    <main class="container">
      <div class="card" id="card-work-days" data-card="work-days">
        <h2>Tính Ngày Làm Việc</h2>
        <div class="input-group">
          <label for="workStartDate">Ngày bắt đầu:</label>
          <div class="input-with-button">
            <input
              type="text"
              id="workStartDate"
              class="date-input"
              placeholder="dd/mm/yyyy"
              maxlength="10"
              autocomplete="off"
            />
            <button class="btn-today" data-target="workStartDate">
              Hôm nay
            </button>
          </div>
          <small class="error-message"></small>
        </div>
        <div class="input-group">
          <label for="workEndDate">Ngày kết thúc:</label>
          <div class="input-with-button">
            <input
              type="text"
              id="workEndDate"
              class="date-input"
              placeholder="dd/mm/yyyy"
              maxlength="10"
              autocomplete="off"
            />
            <button class="btn-today" data-target="workEndDate">Hôm nay</button>
          </div>
          <small class="error-message"></small>
        </div>
        <div class="input-group">
          <label for="holidays"
            >Loại trừ các ngày lễ (mỗi ngày một dòng):</label
          >
          <textarea
            id="holidays"
            rows="4"
            placeholder="Ví dụ:&#10;01/01/2025&#10;30/04/2025&#10;01/05/2025"
          ></textarea>
          <small class="error-message"></small>
        </div>
        <div class="button-group">
          <button class="btn-secondary btn-clear">Xóa</button>
          <button id="calcWorkDaysBtn" class="btn-primary">Tính toán</button>
        </div>
        <div class="result" id="workDaysResult">
          <span class="result-text"></span>
          <button class="btn-copy" data-tooltip="Sao chép"></button>
        </div>
      </div>

      <div class="card" id="card-difference" data-card="difference">
        <h2>Tính Khoảng Cách Giữa 2 Ngày</h2>
        <div class="input-group">
          <label for="startDate">Ngày bắt đầu:</label>
          <div class="input-with-button">
            <input
              type="text"
              id="startDate"
              class="date-input"
              placeholder="dd/mm/yyyy"
              maxlength="10"
              autocomplete="off"
            />
            <button class="btn-today" data-target="startDate">Hôm nay</button>
          </div>
          <small class="error-message"></small>
        </div>
        <div class="input-group">
          <label for="endDate">Ngày kết thúc:</label>
          <div class="input-with-button">
            <input
              type="text"
              id="endDate"
              class="date-input"
              placeholder="dd/mm/yyyy"
              maxlength="10"
              autocomplete="off"
            />
            <button class="btn-today" data-target="endDate">Hôm nay</button>
          </div>
          <small class="error-message"></small>
        </div>
        <div class="button-group">
          <button class="btn-secondary btn-clear">Xóa</button>
          <button id="calcDifferenceBtn" class="btn-primary">Tính toán</button>
        </div>
        <div class="result" id="differenceResult">
          <span class="result-text"></span>
          <button class="btn-copy" data-tooltip="Sao chép"></button>
        </div>
      </div>

      <div class="card" id="card-add-subtract" data-card="add-subtract">
        <h2>Thêm / Bớt Ngày</h2>
        <div class="input-group">
          <label for="baseDate">Chọn một ngày:</label>
          <div class="input-with-button">
            <input
              type="text"
              id="baseDate"
              class="date-input"
              placeholder="dd/mm/yyyy"
              maxlength="10"
              autocomplete="off"
            />
            <button class="btn-today" data-target="baseDate">Hôm nay</button>
          </div>
          <small class="error-message"></small>
        </div>
        <div class="input-group-inline">
          <input type="number" id="numUnits" value="1" min="1" />
          <select id="unit">
            <option value="days">Ngày</option>
            <option value="weeks">Tuần</option>
            <option value="months">Tháng</option>
            <option value="years">Năm</option>
          </select>
        </div>
        <div class="button-group">
          <button class="btn-secondary btn-clear">Xóa</button>
          <button id="addDateBtn" class="btn-primary">Thêm (+)</button>
          <button id="subtractDateBtn" class="btn-primary">Bớt (-)</button>
        </div>
        <div class="result" id="addSubtractResult">
          <span class="result-text"></span>
          <button class="btn-copy" data-tooltip="Sao chép"></button>
        </div>
      </div>

      <div class="card" id="card-age" data-card="age">
        <h2>Tính Tuổi</h2>
        <div class="input-group">
          <label for="birthDate">Nhập ngày sinh của bạn:</label>
          <div class="input-with-button">
            <input
              type="text"
              id="birthDate"
              class="date-input"
              placeholder="dd/mm/yyyy"
              maxlength="10"
              autocomplete="off"
            />
            <button class="btn-today" data-target="birthDate">Hôm nay</button>
          </div>
          <small class="error-message"></small>
        </div>
        <div class="button-group">
          <button class="btn-secondary btn-clear">Xóa</button>
          <button id="calcAgeBtn" class="btn-primary">Tính Tuổi</button>
        </div>
        <div class="result" id="ageResult">
          <span class="result-text"></span>
          <button class="btn-copy" data-tooltip="Sao chép"></button>
        </div>
      </div>

      <div class="card" id="card-countdown" data-card="countdown">
        <h2>Đếm Ngược Sự Kiện</h2>
        <div class="input-group">
          <label for="eventName">Tên sự kiện:</label>
          <input
            type="text"
            id="eventName"
            placeholder="Ví dụ: Tết Nguyên Đán"
            autocomplete="off"
          />
        </div>
        <div class="input-group">
          <label for="eventDate">Ngày diễn ra sự kiện:</label>
          <div class="input-with-button">
            <input
              type="text"
              id="eventDate"
              class="date-input"
              placeholder="dd/mm/yyyy"
              maxlength="10"
              autocomplete="off"
            />
            <button class="btn-today" data-target="eventDate">Hôm nay</button>
          </div>
          <small class="error-message"></small>
        </div>
        <div class="button-group">
          <button class="btn-secondary btn-clear">Xóa</button>
          <button id="countdownBtn" class="btn-primary">
            Bắt đầu đếm ngược
          </button>
        </div>
        <div class="result" id="countdownResult">
          <span class="result-text"></span>
          <button class="btn-copy" data-tooltip="Sao chép"></button>
        </div>
      </div>

      <div class="card" id="card-find-day" data-card="find-day">
        <h2>Tìm Thứ Trong Tuần</h2>
        <div class="input-group">
          <label for="findDayDate">Chọn một ngày:</label>
          <div class="input-with-button">
            <input
              type="text"
              id="findDayDate"
              class="date-input"
              placeholder="dd/mm/yyyy"
              maxlength="10"
              autocomplete="off"
            />
            <button class="btn-today" data-target="findDayDate">Hôm nay</button>
          </div>
          <small class="error-message"></small>
        </div>
        <div class="button-group">
          <button class="btn-secondary btn-clear">Xóa</button>
          <button id="findDayBtn" class="btn-primary">Tìm Thứ</button>
        </div>
        <div class="result" id="dayOfWeekResult">
          <span class="result-text"></span>
          <button class="btn-copy" data-tooltip="Sao chép"></button>
        </div>
      </div>

      <div class="card" id="card-leap-year" data-card="leap-year">
        <h2>Kiểm Tra Năm Nhuận</h2>
        <div class="input-group">
          <label for="yearInput">Nhập một năm:</label>
          <input
            type="text"
            id="yearInput"
            placeholder="VD: 2024"
            maxlength="4"
            inputmode="numeric"
            autocomplete="off"
          />
          <small class="error-message"></small>
        </div>
        <div class="button-group">
          <button class="btn-secondary btn-clear">Xóa</button>
          <button id="leapYearBtn" class="btn-primary">Kiểm tra</button>
        </div>
        <div class="result" id="leapYearResult">
          <span class="result-text"></span>
          <button class="btn-copy" data-tooltip="Sao chép"></button>
        </div>
      </div>
    </main>

    <footer>
      <p>
        Được thiết kế bởi
        <a
          href="https://github.com/hoanghonghuy"
          target="_blank"
          rel="noopener noreferrer"
          >hoanghonghuy</a
        >
      </p>
    </footer>

    <button id="scroll-to-top-btn" aria-label="Cuộn lên đầu trang">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        fill="currentColor"
        viewBox="0 0 16 16"
      >
        <path
          fill-rule="evenodd"
          d="M7.646 4.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1-.708.708L8 5.707l-5.646 5.647a.5.5 0 0 1-.708-.708l6-6z"
        />
      </svg>
    </button>

    <script src="script.js"></script>
  </body>
</html>
